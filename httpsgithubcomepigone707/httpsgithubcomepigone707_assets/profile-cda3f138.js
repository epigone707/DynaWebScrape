System.register(["./chunk-vendor.js","./chunk-frameworks.js","./chunk-profile.js","./chunk-responsive-underlinenav.js"],function(ge,D){"use strict";var p,h,U,v,L,W;return{setters:[function(m){p=m.a,h=m.o,U=m.r},function(m){v=m.e,L=m.aC},function(){},function(m){W=m.a}],execute:function(){p("click",".js-new-user-contrib-example",async function(e){const t=document.querySelector(".js-calendar-graph");if(t.classList.contains("sample-graph"))return;t.classList.add("sample-graph");const n=e.currentTarget.getAttribute("data-url"),r=await fetch(n,{headers:{"X-Requested-With":"XMLHttpRequest"}});if(!r.ok){t.classList.remove("sample-graph");return}const o=await r.text(),s=document.createElement("div");s.innerHTML=o,t.querySelector(".js-calendar-graph-svg").replaceWith(s.children[0])});var m=Object.defineProperty,i=(e,t)=>m(e,"name",{value:t,configurable:!0});let g=null;const l=document.createElement("div");l.classList.add("svg-tip","svg-tip-one-line"),l.style.pointerEvents="none",l.hidden=!0,document.body.appendChild(l);function R(){const t=document.querySelector(".js-calendar-graph").getAttribute("data-url");return new URL(t,window.location.origin)}i(R,"baseURL"),h(".js-calendar-graph-svg",function(e){const t=e.closest(".js-calendar-graph");t.addEventListener("mouseover",function(r){const o=r.target;o.matches("rect[data-count]")&&M(o)}),t.addEventListener("mouseout",C);const n=t.getAttribute("data-from");n&&(g=w(n))}),p("click",".js-calendar-graph rect[data-count]",function(e){const t=e.currentTarget,r=t.closest(".js-calendar-graph").getAttribute("data-org"),o=t.getAttribute("data-date");t.classList.contains("active")?Y(E()):J(w(o),e.shiftKey,r)});function C(){l&&(l.hidden=!0)}i(C,"hideTooltip");function M(e){C();const t=w(e.getAttribute("data-date")),n=parseInt(e.getAttribute("data-count")||""),r=new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric",timeZone:"UTC"}).format(t),o=n===0?"No":new Intl.NumberFormat("en-US").format(n),s=document.createElement("strong");s.textContent=`${o} ${n===1?"contribution":"contributions"}`,l.innerHTML="",l.append(s,` on ${r}`),l.hidden=!1;const a=e.getBoundingClientRect(),c=a.left+window.pageXOffset-l.offsetWidth/2+a.width/2,d=a.bottom+window.pageYOffset-l.offsetHeight-a.height*2,f=document.querySelector(".js-calendar-graph").getBoundingClientRect();l.style.top=`${d}px`,H(f,c)?(l.style.left=`${X(a)}px`,l.classList.add("left"),l.classList.remove("right")):G(f,c)?(l.style.left=`${N(a)}px`,l.classList.add("right"),l.classList.remove("left")):(l.style.left=`${c}px`,l.classList.remove("left"),l.classList.remove("right"))}i(M,"showTooltip");function H(e,t){return e.x>t}i(H,"isTooFarLeft");function G(e,t){return e.x+e.width<t+l.offsetWidth}i(G,"isTooFarRight");function X(e){return e.left+window.pageXOffset-l.offsetWidth*.1+e.width/2}i(X,"southwestTooltip");function N(e){return e.left+window.pageXOffset-l.offsetWidth*.9+e.width/2}i(N,"southeastTooltip");async function T(e){const t=document.getElementById("js-contribution-activity");if(!t)return;t.classList.add("loading");const n=await v(document,e);t.classList.remove("loading"),t.innerHTML="",t.append(n)}i(T,"loadContributionActivity");function y(e,t){const n=new URLSearchParams(e);n.delete("from"),n.delete("to"),n.delete("org");let r=t.fromStr;t.from&&(r=P(t.from,!!t.forceLocalTime)),r&&n.append("from",r);let o=t.toStr;t.to&&(o=P(t.to,!!t.forceLocalTime)),o&&n.append("to",o);const s=t.org;return s&&n.append("org",s),n}i(y,"buildContributionsURLParams");async function k(e,t,n){const o=document.querySelector(".js-calendar-graph").getAttribute("data-graph-url"),s=new URL(o,window.location.origin),a=y(s.search.slice(1),{from:e,to:t,org:n,forceLocalTime:!0});s.search=a.toString();const c=await v(document,s.toString());document.querySelector(".js-yearly-contributions").replaceWith(c)}i(k,"reloadYearlyContributions");function x(e,t){const n=document.querySelector(".js-calendar-graph"),r=n.querySelectorAll("rect[data-count]");for(const s of r)s.classList.remove("active");if(n.classList.remove("days-selected"),!(e||t))return;n.classList.add("days-selected");function o(s){const a=w(s.getAttribute("data-date")||"").getTime();if(e&&t)return e.getTime()<=a&&a<=t.getTime();if(e)return a===e.getTime()}i(o,"filter");for(const s of r)o(s)&&s.classList.add("active")}i(x,"selectContributionRange");function z(){const e=new URLSearchParams(window.location.search.slice(1)),t=e.get("from"),n=e.get("to");return t&&n?{first:t,last:n}:null}i(z,"getBrowserUrlDateRange");function A(){const t=document.querySelector(".js-calendar-graph").querySelectorAll("rect.active"),n=t[0],r=t[t.length-1],o=n&&n.getAttribute("data-date"),s=r&&r.getAttribute("data-date");return o&&s?{first:o,last:s}:null}i(A,"getGraphSelectedDateRange");function K(){const e=new URL(E(),window.location.origin),t=new URLSearchParams(e.search.slice(1)),n=t.get("from"),r=t.get("to");return n&&r?{first:n,last:r}:null}i(K,"getYearSelectorDateRange");function V(){const e=document.querySelector(".js-calendar-graph"),t=e.getAttribute("data-from"),n=e.getAttribute("data-to");return{first:t,last:n}}i(V,"getCurrentGraphDateRange");function Z(){return A()||z()||K()}i(Z,"getSelectedDateRange");function b(e){return`0${e}`.slice(-2)}i(b,"pad");function P(e,t){return t?`${e.getFullYear()}-${b(e.getMonth()+1)}-${b(e.getDate())}`:`${e.getUTCFullYear()}-${b(e.getUTCMonth()+1)}-${b(e.getUTCDate())}`}i(P,"isoDate");function w(e){const[t,n,r]=e.split("-").map(o=>parseInt(o,10));return new Date(Date.UTC(t,n-1,r))}i(w,"utcDate");function J(e,t,n){let r,o;if(g&&t){const c=g.getTime(),d=26784e5,u=c-d,f=c+d;[r,o]=e>g?[g,e]:[e,g],r=new Date(Math.max(r.getTime(),u)),o=new Date(Math.min(o.getTime(),f)),g=null}else g=o=r=e;x(r,o);const s=R(),a=y(s.search.slice(1),{from:r,to:o,org:n});a.append("tab","overview"),s.search=a.toString(),T(s.toString())}i(J,"rangeSelected");async function Q(e,t){const n=document.getElementById("year-list-container");if(!n)return;t.append("year_list","1"),e.search=t.toString();const r=await v(document,e.toString());n.innerHTML="",n.append(r)}i(Q,"updateYearList");async function ee(e){const t=A(),n=V(),r=new Date(n.first),o=new Date(n.last);if(await k(r,o,e),t){const s=new Date(t.first),a=new Date(t.last);x(s,a)}}i(ee,"updateYearlyContributionsWithOrg"),p("click",".js-org-filter-link",function(e){e.stopPropagation(),e.preventDefault();const t=e.currentTarget,r=t.closest(".js-org-filter-links-container").querySelector(".js-org-filter-link.selected"),o=new URL(t.href,window.location.origin),s=new URLSearchParams(o.search.slice(1)),a=s.get("org"),c=Z(),d=new Date(c.first),u=new Date(c.last);r&&r.classList.remove("selected"),t!==r&&t.classList.add("selected"),ee(a);const f=R(),j={org:a,from:null,to:null};s.has("from")&&(j.from=d),s.has("to")&&(j.to=u);const le=y(f.search.slice(1),j);f.search=le.toString(),T(f.toString()),Q(f,le),L(null,"",f.toString())}),p("click",".js-year-link",function(e){e.stopPropagation(),e.preventDefault();const t=e.currentTarget;t.closest("ul").querySelector(".js-year-link.selected").classList.remove("selected"),t.classList.add("selected"),Y(t.href),L(null,"",t.href)});function E(){return document.querySelector(".js-profile-timeline-year-list .js-year-link.selected").href||""}i(E,"currentSelectedYearUrl");function Y(e){const t=new URL(e,window.location.origin).search,n=new URLSearchParams(t.slice(1)),r=n.get("org"),o=n.get("from"),s=n.get("to"),a=new Date(o),c=new Date(s);k(a,c,r);const d=R(),u=y(d.search.slice(1),{from:a,to:c,org:r});u.append("tab","overview"),d.search=u.toString(),T(d.toString())}i(Y,"loadYearUrl");function $(e){const t=e.closest(".js-details-container");t&&t.classList.add("open");const n=62,r=e.getBoundingClientRect(),o=10,s=window.scrollY+r.top-n-o;window.scrollTo(0,s)}i($,"focusEvent");function te(){const e=window.location.hash;if(!e||e.indexOf("#event-")<0)return;const t=e.slice(1,e.length),n=document.getElementById(t);!n||$(n)}i(te,"focusLinkedEvent"),te(),window.addEventListener("hashchange",function(e){const t=e.newURL||window.location.href,n=t.slice(t.indexOf("#")+1,t.length),r=document.getElementById(n);!r||(e.stopPropagation(),$(r))}),U(".js-show-more-timeline-form",async function(e,t){await t.text();const n=document.querySelector(".js-show-more-timeline-form");if(n){const r=n.getAttribute("data-year"),o=document.querySelector(".js-year-link.selected"),s=document.querySelector(`#year-link-${r}`);o.classList.remove("selected"),s.classList.add("selected");const a=e.getAttribute("data-year");if(r!==a){const c=n.getAttribute("data-from"),d=new Date(c),u=n.getAttribute("data-to"),f=new Date(u),j=n.getAttribute("data-org");k(d,f,j)}}document.title=e.getAttribute("data-title")||"",L(null,"",e.getAttribute("data-url")||"")}),document.addEventListener("pjax:beforeReplace",C);var ue=Object.defineProperty,de=(e,t)=>ue(e,"name",{value:t,configurable:!0});async function ne(e){const{initializeOverviewGraphContainer:t}=await D.import("./chunk-contributions-spider-graph.js");t(e)}de(ne,"load"),h(".js-activity-overview-graph-container",e=>{ne(e)});var fe=Object.defineProperty,_=(e,t)=>fe(e,"name",{value:t,configurable:!0});function q(e){if(document.querySelector(".js-profile-editable-area").hidden=e,document.querySelector(".js-profile-editable-names").hidden=e,document.querySelector(".js-profile-editable-form").hidden=!e,document.querySelector(".js-profile-editable-error").textContent="",!e){const t=document.querySelector(".js-profile-editable-pronouns-select"),n=document.querySelector(".js-profile-editable-pronouns-custom");t&&n&&n.value===""&&(t.selectedIndex=0,n.hidden=!0)}}_(q,"toggleForm");function re(e){document.querySelector(".js-profile-editable-replace").replaceWith(e)}_(re,"replaceExistingListItems");function oe(){const e=document.querySelector(".js-user-profile-bio").getAttribute("data-bio-text");if(typeof e!="string")return;const t=document.querySelector(".js-user-profile-bio-edit");t.value=e}_(oe,"syncBioInput"),p("click",".js-profile-editable-edit-button",function(){oe(),q(!0)}),p("click",".js-profile-editable-cancel",function(){q(!1)}),U(".js-profile-editable-form",async(e,t)=>{let n;try{n=await t.html()}catch(r){if(r.response.status===422){const o=document.querySelector(".js-profile-editable-error");o.textContent=r.response.json.message}return}re(n.html),q(!1)});var me=Object.defineProperty,se=(e,t)=>me(e,"name",{value:t,configurable:!0});let F=null,I=null;function ae(e){const{item:t,oldIndex:n}=e,{parentNode:r}=t;I=r.children[n+1]}se(ae,"handleStart");async function O(e){const{oldIndex:t,newIndex:n,item:r}=e;if(t===n)return;const o=r.closest(".js-pinned-items-reorder-form"),s=o.closest(".js-pinned-items-reorder-container"),a=s.querySelector(".js-pinned-items-spinner"),c=s.querySelector(".js-pinned-items-reorder-message");if(c.textContent="",a.style.display="inline-block",F.option("disabled",!0),!(await fetch(o.action,{method:o.method,body:new FormData(o),headers:{"X-Requested-With":"XMLHttpRequest"}})).ok){c.textContent=c.getAttribute("data-error-text")||"",a.style.display="none";const u=r.parentNode;I?u.insertBefore(r,I):u.appendChild(r);return}c.textContent=c.getAttribute("data-success-text")||"",a.style.display="none",F.option("disabled",!1)}se(O,"handleUpdate"),h(".js-pinned-items-reorder-list",{async add(e){const{Sortable:t}=await D.import("./chunk-sortable-behavior.js");F=t.create(e,{animation:150,item:".js-pinned-item-list-item",handle:".js-pinned-item-reorder",onUpdate:O,onStart:ae,chosenClass:"is-dragging"})}}),p("submit",".js-pinned-items-reorder-form",function(e){e.preventDefault()}),p("click",".js-pinned-item-list-item .js-sortable-button",async function({currentTarget:e}){const{moveWithButton:t}=await D.import("./chunk-sortable-behavior.js");t(e,e.closest(".js-pinned-item-list-item"),O)}),h(".js-user-profile-sticky-fields.is-stuck",function(){const e=document.querySelector(".js-user-profile-sticky-bar");return{add(){e.classList.add("is-stuck")},remove(){e.classList.remove("is-stuck")}}}),h(".js-user-profile-follow-button.is-stuck",function(){const e=document.querySelector(".js-user-profile-sticky-bar");return{add(){e.classList.add("is-follow-stuck")},remove(){e.classList.remove("is-follow-stuck")}}});var pe=Object.defineProperty,B=(e,t)=>pe(e,"name",{value:t,configurable:!0});function ie(e){return e>999?`${(e/1e3).toFixed(1)}k`:e.toLocaleString()}B(ie,"formatCount");function S(e,t){t>0?(e.textContent=ie(t),e.hidden=!1):e.remove()}B(S,"setProfileTabCount");async function ce(e){const t=new URL(e.getAttribute("data-url"),window.location.origin),n=new URLSearchParams(t.search.slice(1)),r=e.querySelector(".js-profile-repository-count"),o=e.querySelector(".js-profile-project-count"),s=e.querySelector(".js-profile-team-count"),a=e.querySelector(".js-profile-member-count");r&&n.append("repo","1"),o&&n.append("project","1"),s&&n.append("team","1"),a&&n.append("member","1"),t.search=n.toString();const c=await fetch(t.toString(),{headers:{"X-Requested-With":"XMLHttpRequest"}});if(!c.ok)return;const u=(await c.json()).data;r&&u.repositories&&S(r,u.repositories.totalCount),o&&u.projects&&S(o,u.projects.totalCount),s&&u.teams&&S(s,u.teams.totalCount),a&&u.members&&S(a,u.members.totalCount),e.classList.contains("js-responsive-underlinenav")&&W(e)}B(ce,"loadTabCounts"),h(".js-profile-tab-count-container",function(e){ce(e)})}}});
//# sourceMappingURL=profile-f3860841.js.map
